<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
        <script src="/shared/appearance.js"></script>
    <title>Money Manager - Account Details</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- External CSS -->
    <link rel="stylesheet" href="/accounts/accounts-details/accounts-details.css">
    <!-- External JS (defer) -->
    <script src="/accounts/accounts-details/accounts-details.js" defer></script>
</head>
<body>
    <!-- Mobile App Container -->
    <div class="mobile-app" id="mobileView">
        <!-- Account Detail Page -->
        <div class="account-detail-page">
            <!-- Page Header -->
            <div class="page-header">
                <!-- Back button secured with data-nav -->
                <a href="#" class="back-btn" data-nav="accounts">
                    <i class="fas fa-arrow-left"></i>
                </a>
                <div class="page-title" id="accountName">Account Name</div>
                <div class="page-actions">
                    <button class="page-action-btn" id="deleteAccountBtn" title="Delete Account">
                        <i class="fas fa-trash"></i>
                    </button>
                    <button class="page-action-btn" id="editAccountBtn">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
            </div>

            <!-- Account Summary -->
            <div class="account-summary">
                <div class="summary-card">
                    <div class="summary-label">Current Balance</div>
                    <div class="summary-value" id="accountCurrentBalance">$0.00</div>
                </div>
                <div class="summary-card">
                    <div class="summary-label">Total Deposits</div>
                    <div class="summary-value positive" id="accountTotalDeposits">$0.00</div>
                </div>
                <div class="summary-card">
                    <div class="summary-label">Total Withdrawals</div>
                    <div class="summary-value negative" id="accountTotalWithdrawals">$0.00</div>
                </div>
                <div class="summary-card">
                    <div class="summary-label">Available Limit</div>
                    <div class="summary-value positive" id="accountAvailableLimit">$0.00</div>
                </div>
            </div>

            <!-- Filters -->
            <div class="filters-container">
                <div class="filter-row">
                    <select class="filter-select" id="periodFilter">
                        <option value="all">All Time</option>
                        <option value="today">Today</option>
                        <option value="week">This Week</option>
                        <option value="month">This Month</option>
                        <option value="year">This Year</option>
                    </select>
                    <select class="filter-select" id="categoryFilter">
                        <option value="all">All Categories</option>
                    </select>
                </div>
                <div class="date-range">
                    <input type="date" class="date-input" id="startDate" placeholder="Start Date">
                    <span>—</span>
                    <input type="date" class="date-input" id="endDate" placeholder="End Date">
                </div>
            </div>

            <!-- Chart Placeholder -->
            <div class="chart-container">
                <div class="chart-placeholder" id="accountTrendCard">
                    <canvas id="accountTrendCanvas" width="360" height="170" aria-label="Account trend graph"></canvas>
                </div>
            </div>

            <!-- Category Breakdown -->
            <div class="category-breakdown">
                <div class="section-header">
                    <h2>Category Breakdown</h2>
                    <a href="#" class="view-all" data-nav="categories">All <i class="fas fa-arrow-right"></i></a>
                </div>
                <div class="breakdown-list" id="categoryBreakdownList">
                    <!-- Categories will be generated by JavaScript -->
                </div>
            </div>

            <!-- Transactions List -->
            <div class="mobile-transactions">
                <div class="section-header">
                    <h2>Recent Transactions</h2>
                    <a href="#" class="view-all" data-nav="transactions">All <i class="fas fa-arrow-right"></i></a>
                </div>
                <div class="transactions-list" id="accountTransactionsList">
                    <!-- Transactions will be generated by JavaScript -->
                </div>
            </div>

        </div>

        <!-- Mobile Bottom Navigation (secured) -->
        <nav class="mobile-bottom-nav">
            <a href="#" class="nav-item" data-nav="dashboard">
                <i class="fas fa-home"></i>
                <span>Dashboard</span>
            </a>
            <a href="#" class="nav-item" data-nav="accounts">
                <i class="fas fa-wallet"></i>
                <span>Accounts</span>
            </a>
            <a href="#" class="nav-item" data-nav="transactions">
                <i class="fas fa-exchange-alt"></i>
                <span>Transactions</span>
            </a>
            <a href="#" class="nav-item" data-nav="categories">
                <i class="fas fa-tags"></i>
                <span>Categories</span>
            </a>
            <a href="#" class="nav-item" data-nav="settings">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </a>
        </nav>
    </div>

    <!-- Edit Account Modal -->
    <div class="modal-overlay" id="editAccountModal">
        <div class="modal-content glass-card">
            <button class="modal-close" id="editAccountModalClose">
                <i class="fas fa-times"></i>
            </button>
            <h3 class="modal-title">Edit Account</h3>
            <form class="edit-form" id="editAccountForm">
                <div class="form-group">
                    <label for="editAccountName">Account Name</label>
                    <input type="text" id="editAccountName" required>
                </div>
                <div class="form-group">
                    <label for="editAccountBalance">Current Balance</label>
                    <input type="number" id="editAccountBalance" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="editAccountLimit">Credit Limit (if applicable)</label>
                    <input type="number" id="editAccountLimit" step="0.01" placeholder="0.00">
                </div>
                <div class="form-group">
                    <label for="editAccountNote">Note (Optional)</label>
                    <textarea id="editAccountNote" rows="3"></textarea>
                </div>
                <button type="submit" class="submit-btn">
                    <i class="fas fa-save"></i>
                    <span>Save Changes</span>
                </button>
            </form>
        </div>
    </div>

    <!-- Add Transaction Modal -->
    <div class="modal-overlay" id="addTransactionModal">
        <div class="modal-content glass-card">
            <button class="modal-close" id="addTransactionModalClose">
                <i class="fas fa-times"></i>
            </button>
            <h3 class="modal-title">Add Transaction</h3>
            <form class="edit-form" id="addTransactionForm">
                <div class="form-group">
                    <label for="transactionType">Type</label>
                    <select id="transactionType" required>
                        <option value="income">Income</option>
                        <option value="expense">Expense</option>
                        <option value="transfer">Transfer</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="transactionAmount">Amount</label>
                    <input type="number" id="transactionAmount" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="transactionCategory">Category</label>
                    <select id="transactionCategory" required>
                        <option value="">Select Category</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="transactionDate">Date</label>
                    <input type="date" id="transactionDate" required>
                </div>
                <div class="form-group">
                    <label for="transactionNote">Note</label>
                    <input type="text" id="transactionNote" placeholder="Optional">
                </div>
                <button type="submit" class="submit-btn">
                    <i class="fas fa-plus"></i>
                    <span>Add Transaction</span>
                </button>
            </form>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="action-toast" id="actionToast">
        <div class="toast-content">
            <i class="fas fa-check-circle"></i>
            <span class="toast-message">Action completed successfully!</span>
        </div>
    </div>
</body>
</html>
